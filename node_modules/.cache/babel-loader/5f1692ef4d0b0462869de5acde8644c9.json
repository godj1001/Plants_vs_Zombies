{"remainingRequest":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/babel-loader/lib/index.js!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/vegetable/Peashooter.js","dependencies":[{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/vegetable/Peashooter.js","mtime":1632303732813},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/cache-loader/dist/cjs.js","mtime":1589375722521},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/babel-loader/lib/index.js","mtime":1607483830637},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/eslint-loader/index.js","mtime":1589375721213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiL1VzZXJzL3poYW5nanVuL0RvY3VtZW50cy93b3Jrc3BhY2UvdGVzdC1zcGFjZS9wYW9sdS9Hcm9vdmVVSS9ncm9vdmUtemhpd3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3poYW5nanVuL0RvY3VtZW50cy93b3Jrc3BhY2UvdGVzdC1zcGFjZS9wYW9sdS9Hcm9vdmVVSS9ncm9vdmUtemhpd3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvemhhbmdqdW4vRG9jdW1lbnRzL3dvcmtzcGFjZS90ZXN0LXNwYWNlL3Bhb2x1L0dyb292ZVVJL2dyb292ZS16aGl3dS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy96aGFuZ2p1bi9Eb2N1bWVudHMvd29ya3NwYWNlL3Rlc3Qtc3BhY2UvcGFvbHUvR3Jvb3ZlVUkvZ3Jvb3ZlLXpoaXd1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3poYW5nanVuL0RvY3VtZW50cy93b3Jrc3BhY2UvdGVzdC1zcGFjZS9wYW9sdS9Hcm9vdmVVSS9ncm9vdmUtemhpd3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvemhhbmdqdW4vRG9jdW1lbnRzL3dvcmtzcGFjZS90ZXN0LXNwYWNlL3Bhb2x1L0dyb292ZVVJL2dyb292ZS16aGl3dS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnOwppbXBvcnQgQm9keSBmcm9tICdAL2NsYXNzL0JvZHknOwppbXBvcnQgU3RhZ2UgZnJvbSAnQC9jbGFzcy9TdGFnZSc7Cgp2YXIgY3JlYXRlQnVsbGV0ID0gZnVuY3Rpb24gY3JlYXRlQnVsbGV0KHgsIHkpIHsKICB2YXIgYnVsbGV0ID0gbmV3IEJ1bGxldCgpOwogIGJ1bGxldC5zZXRTcHJpdGUoeCwgeSk7Cn07Cgp2YXIgcGljID0gW3JlcXVpcmUoJy4uLy4uL2Fzc2V0cy92ZWdldGFibGUvUGVhc2hvb3Rlci9QZWFzaG9vdGVyMS5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL3ZlZ2V0YWJsZS9QZWFzaG9vdGVyL1BlYXNob290ZXIyLnBuZycpLCByZXF1aXJlKCcuLi8uLi9hc3NldHMvdmVnZXRhYmxlL1BlYXNob290ZXIvUGVhc2hvb3RlcjMucG5nJyksIHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy92ZWdldGFibGUvUGVhc2hvb3Rlci9QZWFzaG9vdGVyNC5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL3ZlZ2V0YWJsZS9QZWFzaG9vdGVyL1BlYXNob290ZXI1LnBuZycpLCByZXF1aXJlKCcuLi8uLi9hc3NldHMvdmVnZXRhYmxlL1BlYXNob290ZXIvUGVhc2hvb3RlcjYucG5nJyldOwoKdmFyIFBlYXNob290ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Cb2R5KSB7CiAgX2luaGVyaXRzKFBlYXNob290ZXIsIF9Cb2R5KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQZWFzaG9vdGVyKTsKCiAgZnVuY3Rpb24gUGVhc2hvb3Rlcihwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQZWFzaG9vdGVyKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKICAgIF90aGlzLm5hbWUgPSAn6LGM6LGG5bCE5omLJzsKICAgIF90aGlzLmhlYWx0aCA9IDEwMDsKICAgIHN0b3JlLmNvbW1pdCgnY29zdCcsIHsKICAgICAgY29zdDogUGVhc2hvb3Rlci5jb3N0CiAgICB9KTsKICAgIF90aGlzLnRleHR1cmVBcnJheSA9IHBpYy5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgcmV0dXJuIFBJWEkuVGV4dHVyZS5mcm9tKGkpOwogICAgfSk7CiAgICBfdGhpcy50ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20ocmVxdWlyZSgnLi4vLi4vYXNzZXRzL3ZlZ2V0YWJsZS9QZWFzaG9vdGVyLmdpZicpKTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhQZWFzaG9vdGVyLCBbewogICAga2V5OiAid29yayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd29yaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgY3JlYXRlQnVsbGV0KF90aGlzMi5wb3NpdGlvbi54LCBfdGhpczIucG9zaXRpb24ueSwgX3RoaXMyLnN0YWdlSW5zdGFuY2UpOwogICAgICB9LCAyMDAwKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBQZWFzaG9vdGVyOwp9KEJvZHkpOwovKioKICog5a2Q5by5CiAqLwoKCl9kZWZpbmVQcm9wZXJ0eShQZWFzaG9vdGVyLCAiY29zdCIsIDUwKTsKCmV4cG9ydCB7IFBlYXNob290ZXIgYXMgZGVmYXVsdCB9OwoKdmFyIEJ1bGxldCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0JvZHkyKSB7CiAgX2luaGVyaXRzKEJ1bGxldCwgX0JvZHkyKTsKCiAgdmFyIF9zdXBlcjIgPSBfY3JlYXRlU3VwZXIoQnVsbGV0KTsKCiAgZnVuY3Rpb24gQnVsbGV0KHByb3ApIHsKICAgIHZhciBfdGhpczM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJ1bGxldCk7CgogICAgX3RoaXMzID0gX3N1cGVyMi5jYWxsKHRoaXMsIHByb3ApOwogICAgX3RoaXMzLnN0YWdlSW5zdGFuY2UgPSBuZXcgU3RhZ2UoKTsKICAgIF90aGlzMy5wb3dlciA9IDEwOwogICAgX3RoaXMzLnRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbShyZXF1aXJlKCcuLi8uLi9hc3NldHMvdmVnZXRhYmxlL0J1bGxldC5naWYnKSk7CgogICAgX3RoaXMzLndvcmtGbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMzLnNwcml0ZS54ICs9IDAuNTsKICAgICAgdmFyIHpvbWJpZSA9IF90aGlzMy5zdGFnZUluc3RhbmNlLnpvbWJpZUxpc3RbX3RoaXMzLnBvc2l0aW9uWF1bMF0gfHwgbnVsbDsKCiAgICAgIGlmICh6b21iaWUpIHsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczMuc3RhZ2VJbnN0YW5jZS56b21iaWVMaXN0KTsKCiAgICAgICAgaWYgKF90aGlzMy5zcHJpdGUueCA+PSB6b21iaWUuc3ByaXRlLngpIHsKICAgICAgICAgIF90aGlzMy5zdG9wV29yaygpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCflh7vkuK0nICsgem9tYmllLm5hbWUpOwogICAgICAgICAgY29uc29sZS5sb2coJ+mUgOavgScgKyBfdGhpczMucG9zaXRpb25YICsgJ+ihjOesrOS4gOS4quWDteWwuCcpOwogICAgICAgICAgem9tYmllLnN0b3BXb3JrKCk7CgogICAgICAgICAgX3RoaXMzLmV2ZW50LmVtaXQoJ2Rlc3Ryb3knLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMykpOwoKICAgICAgICAgIF90aGlzMy5ldmVudC5lbWl0KCdyZW1vdmVab21iaWUnLCBbX3RoaXMzLnBvc2l0aW9uWCwgem9tYmllXSk7IC8vIHRoaXMuc3RhZ2VJbnN0YW5jZS5yZW1vdmVab21iaWUodGhpcy5wb3NpdGlvblgpCiAgICAgICAgICAvLyB0aGlzLnN0YWdlSW5zdGFuY2UucmVtb3ZlU3ByaXRlKHsgaWQ6IHRoaXMuaWQsIGluc3RhbmNlOiB0aGlzLnNwcml0ZSB9KQoKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIF90aGlzMzsKICB9CgogIF9jcmVhdGVDbGFzcyhCdWxsZXQsIFt7CiAgICBrZXk6ICJpbml0U3ByaXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U3ByaXRlKCkgewogICAgICB0aGlzLnNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0aGlzLnRleHR1cmUpOwogICAgICB0aGlzLnNwcml0ZS53aWR0aCA9IDIwOwogICAgICB0aGlzLnNwcml0ZS5oZWlnaHQgPSAxNTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb3VudFNwcml0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRTcHJpdGUoeCwgeSkgewogICAgICB0aGlzLnBvc2l0aW9uWCA9IHg7CiAgICAgIHRoaXMuc3ByaXRlLnggPSAzOSAqIHkgKyAzMDsKICAgICAgdGhpcy5zcHJpdGUueSA9IDQ2ICogeDsKICAgICAgdGhpcy5ldmVudC5lbWl0KCdtb3VudCcsIHRoaXMpOwogICAgfQogIH0sIHsKICAgIGtleTogIndvcmsiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHdvcmsoKSB7CiAgICAgIHRoaXMuZXZlbnQuZW1pdCgnYWRkVGlja2VyJywgdGhpcy53b3JrRm4pOwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3BXb3JrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wV29yaygpIHsKICAgICAgdGhpcy5ldmVudC5lbWl0KCdyZW1vdmVUaWNrZXInLCB0aGlzLndvcmtGbik7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQnVsbGV0Owp9KEJvZHkpOw=="},{"version":3,"sources":["/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/vegetable/Peashooter.js"],"names":["store","PIXI","Body","Stage","createBullet","x","y","bullet","Bullet","setSprite","pic","require","Peashooter","props","name","health","commit","cost","textureArray","map","i","Texture","from","texture","setInterval","position","stageInstance","prop","power","workFn","sprite","zombie","zombieList","positionX","console","log","stopWork","event","emit","Sprite","width","height"],"mappings":"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","sourcesContent":["import store from '@/store'\nimport * as PIXI from 'pixi.js'\nimport Body from '@/class/Body'\nimport Stage from '@/class/Stage'\n\nconst createBullet = (x, y) => {\n  const bullet = new Bullet()\n  bullet.setSprite(x, y)\n}\nconst pic = [\n  require('../../assets/vegetable/Peashooter/Peashooter1.png'),\n  require('../../assets/vegetable/Peashooter/Peashooter2.png'),\n  require('../../assets/vegetable/Peashooter/Peashooter3.png'),\n  require('../../assets/vegetable/Peashooter/Peashooter4.png'),\n  require('../../assets/vegetable/Peashooter/Peashooter5.png'),\n  require('../../assets/vegetable/Peashooter/Peashooter6.png')\n]\nexport default class Peashooter extends Body {\n  static cost = 50\n\n  constructor(props) {\n    super(props)\n    this.name = '豌豆射手'\n    this.health = 100\n    store.commit('cost', { cost: Peashooter.cost })\n    this.textureArray = pic.map(i => {\n      return PIXI.Texture.from(i)\n    })\n    this.texture = PIXI.Texture.from(require('../../assets/vegetable/Peashooter.gif'))\n  }\n\n  work() {\n    setInterval(() => {\n      createBullet(this.position.x, this.position.y, this.stageInstance)\n    }, 2000)\n  }\n}\n\n/**\n * 子弹\n */\nclass Bullet extends Body {\n  constructor(prop) {\n    super(prop)\n    this.stageInstance = new Stage()\n    this.power = 10\n    this.texture = PIXI.Texture.from(require('../../assets/vegetable/Bullet.gif'))\n    this.workFn = () => {\n      this.sprite.x += 0.5\n      let zombie = this.stageInstance.zombieList[this.positionX][0] || null\n      if (zombie) {\n        console.log(this.stageInstance.zombieList)\n        if (this.sprite.x >= zombie.sprite.x) {\n          this.stopWork()\n          console.log('击中' + zombie.name)\n          console.log('销毁' + this.positionX + '行第一个僵尸')\n          zombie.stopWork()\n          this.event.emit('destroy', this)\n          this.event.emit('removeZombie', [ this.positionX, zombie ])\n          // this.stageInstance.removeZombie(this.positionX)\n          // this.stageInstance.removeSprite({ id: this.id, instance: this.sprite })\n        }\n      }\n    }\n  }\n  initSprite() {\n    this.sprite = new PIXI.Sprite(this.texture)\n    this.sprite.width = 20\n    this.sprite.height = 15\n  }\n\n  mountSprite(x, y) {\n    this.positionX = x\n    this.sprite.x = 39 * y + 30\n    this.sprite.y = 46 * x\n    this.event.emit('mount', this)\n  }\n\n  work() {\n    this.event.emit('addTicker', this.workFn)\n  }\n  stopWork() {\n    this.event.emit('removeTicker', this.workFn)\n  }\n}\n"]}]}