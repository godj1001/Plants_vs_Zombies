{"remainingRequest":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/babel-loader/lib/index.js!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/zombie/BaseZombie.js","dependencies":[{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/zombie/BaseZombie.js","mtime":1632480176598},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/cache-loader/dist/cjs.js","mtime":1589375722521},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/babel-loader/lib/index.js","mtime":1607483830637},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/eslint-loader/index.js","mtime":1589375721213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvemhhbmdqdW4vRG9jdW1lbnRzL3dvcmtzcGFjZS90ZXN0LXNwYWNlL3Bhb2x1L0dyb292ZVVJL2dyb292ZS16aGl3dS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy96aGFuZ2p1bi9Eb2N1bWVudHMvd29ya3NwYWNlL3Rlc3Qtc3BhY2UvcGFvbHUvR3Jvb3ZlVUkvZ3Jvb3ZlLXpoaXd1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3poYW5nanVuL0RvY3VtZW50cy93b3Jrc3BhY2UvdGVzdC1zcGFjZS9wYW9sdS9Hcm9vdmVVSS9ncm9vdmUtemhpd3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvemhhbmdqdW4vRG9jdW1lbnRzL3dvcmtzcGFjZS90ZXN0LXNwYWNlL3Bhb2x1L0dyb292ZVVJL2dyb292ZS16aGl3dS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJzsKaW1wb3J0IEJvZHkgZnJvbSAnQC9jbGFzcy9Cb2R5JzsKaW1wb3J0IFN0YWdlIGZyb20gJ0AvY2xhc3MvU3RhZ2UnOwp2YXIgcm9vbUNvdW50ID0gWzM5LCAzOSAqIDIsIDM5ICogMywgMzkgKiA0LCAzOSAqIDUsIDM5ICogNiwgMzkgKiA3LCAzOSAqIDgsIDM5ICogOSwgMzkgKiAxMF07CnZhciBwaWMgPSBbcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllMS5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllMi5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllMy5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllNC5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllNS5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllNi5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllNy5wbmcnKV07Cgp2YXIgQmFzZVpvbWJpZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0JvZHkpIHsKICBfaW5oZXJpdHMoQmFzZVpvbWJpZSwgX0JvZHkpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEJhc2Vab21iaWUpOwoKICBmdW5jdGlvbiBCYXNlWm9tYmllKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2Vab21iaWUpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwogICAgX3RoaXMuc3RhZ2VJbnN0YW5jZSA9IG5ldyBTdGFnZSgpOwogICAgX3RoaXMubmFtZSA9ICflg7XlsLhfJyArIF90aGlzLmlkOwogICAgX3RoaXMuc3BlZWQgPSAwLjM7CiAgICBfdGhpcy5hdHRhY2sgPSAwLjU7CiAgICBfdGhpcy5oZWFsdGggPSAxMDA7CiAgICBfdGhpcy50ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20ocmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUuZ2lmJykpOwogICAgX3RoaXMucG9zaXRpb25YID0gOTsKICAgIF90aGlzLmF0dGFja1ZlZ2V0YWJsZSA9IG51bGw7CiAgICBfdGhpcy50ZXh0dXJlQXJyYXkgPSBwaWMubWFwKGZ1bmN0aW9uIChpKSB7CiAgICAgIHJldHVybiBQSVhJLlRleHR1cmUuZnJvbShpKTsKICAgIH0pOwoKICAgIF90aGlzLndvcmtGbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKF90aGlzLnNwcml0ZS54IDwgcm9vbUNvdW50W190aGlzLnBvc2l0aW9uWCAtIDFdKSB7CiAgICAgICAgX3RoaXMucG9zaXRpb25YLS07CiAgICAgIH0KCiAgICAgIGlmIChfdGhpcy5zcHJpdGUueCA8PSByb29tQ291bnRbOF0pIHsKICAgICAgICB2YXIgdmVnZXRhYmxlID0gX3RoaXMuc3RhZ2VJbnN0YW5jZS5yb29tW190aGlzLnBvc2l0aW9uWV1bX3RoaXMucG9zaXRpb25YXTsKCiAgICAgICAgaWYgKHZlZ2V0YWJsZSkgewogICAgICAgICAgY29uc29sZS5sb2coJ+aUu+WHuycpOwogICAgICAgICAgdmVnZXRhYmxlLmhlYWx0aCAtPSBfdGhpcy5hdHRhY2s7CgogICAgICAgICAgaWYgKHZlZ2V0YWJsZS5oZWFsdGggPD0gMCkgewogICAgICAgICAgICBfdGhpcy5ldmVudC5lbWl0KCdkZXN0cm95JywgdmVnZXRhYmxlKTsKCiAgICAgICAgICAgIF90aGlzLnN0YWdlSW5zdGFuY2Uucm9vbVtfdGhpcy5wb3NpdGlvblldW190aGlzLnBvc2l0aW9uWF0gPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5zcHJpdGUueCAtPSBfdGhpcy5zcGVlZDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChfdGhpcy5zcHJpdGUueCA+IHJvb21Db3VudFs4XSkgewogICAgICAgIF90aGlzLnNwcml0ZS54IC09IF90aGlzLnNwZWVkOwogICAgICB9CgogICAgICBpZiAoX3RoaXMuc3ByaXRlLnggPCAtNDApIHsKICAgICAgICB3aW5kb3cucmVsb2FkKCk7CgogICAgICAgIF90aGlzLmV2ZW50LmVtaXQoJ3Jlc3RhcnQnKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQmFzZVpvbWJpZSwgW3sKICAgIGtleTogImluaXRTcHJpdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRTcHJpdGUoKSB7CiAgICAgIHRoaXMuc3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUodGhpcy50ZXh0dXJlQXJyYXkpOwogICAgICB0aGlzLnNwcml0ZS5hbmltYXRpb25TcGVlZCA9IDAuMTsKICAgICAgdGhpcy5zcHJpdGUucGxheSgpOwogICAgICB0aGlzLnNwcml0ZS53aWR0aCA9IDM5OwogICAgICB0aGlzLnNwcml0ZS5oZWlnaHQgPSA0NjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb3VudFNwcml0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRTcHJpdGUoeCwgeSkgewogICAgICB0aGlzLnBvc2l0aW9uWSA9IHk7CiAgICAgIHRoaXMuc3ByaXRlLnggPSB4OwogICAgICB0aGlzLnNwcml0ZS55ID0gNDYgKiB5OwogICAgICB0aGlzLmV2ZW50LmVtaXQoJ3pvbWJpZU1vdW50JywgW3RoaXMsIHldKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ3b3JrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB3b3JrKCkgewogICAgICB0aGlzLmV2ZW50LmVtaXQoJ2FkZFRpY2tlcicsIHRoaXMud29ya0ZuKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdG9wV29yayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcFdvcmsoKSB7CiAgICAgIHRoaXMuZXZlbnQuZW1pdCgncmVtb3ZlVGlja2VyJywgdGhpcy53b3JrRm4pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJhc2Vab21iaWU7Cn0oQm9keSk7CgpleHBvcnQgeyBCYXNlWm9tYmllIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/zombie/BaseZombie.js"],"names":["PIXI","Body","Stage","roomCount","pic","require","BaseZombie","props","stageInstance","name","id","speed","attack","health","texture","Texture","from","positionX","attackVegetable","textureArray","map","i","workFn","sprite","x","vegetable","room","positionY","console","log","event","emit","window","reload","AnimatedSprite","animationSpeed","play","width","height","y"],"mappings":"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","sourcesContent":["import * as PIXI from 'pixi.js'\nimport Body from '@/class/Body'\nimport Stage from '@/class/Stage'\nconst roomCount = [39, 39 * 2, 39 * 3, 39 * 4, 39 * 5, 39 * 6, 39 * 7, 39 * 8, 39 * 9, 39 * 10]\nconst pic = [\n  require('../../assets/Zombie/Zombie/Zombie1.png'),\n  require('../../assets/Zombie/Zombie/Zombie2.png'),\n  require('../../assets/Zombie/Zombie/Zombie3.png'),\n  require('../../assets/Zombie/Zombie/Zombie4.png'),\n  require('../../assets/Zombie/Zombie/Zombie5.png'),\n  require('../../assets/Zombie/Zombie/Zombie6.png'),\n  require('../../assets/Zombie/Zombie/Zombie7.png')\n]\nexport default class BaseZombie extends Body {\n  constructor(props) {\n    super(props)\n    this.stageInstance = new Stage()\n    this.name = '僵尸_' + this.id\n    this.speed = 0.3\n    this.attack = 0.5\n    this.health = 100\n    this.texture = PIXI.Texture.from(require('../../assets/Zombie/Zombie.gif'))\n    this.positionX = 9\n    this.attackVegetable = null\n    this.textureArray = pic.map(i => {\n      return PIXI.Texture.from(i)\n    })\n    this.workFn = () => {\n      if (this.sprite.x < roomCount[this.positionX - 1]) {\n        this.positionX--\n      }\n      if (this.sprite.x <= roomCount[8]) {\n        const vegetable = this.stageInstance.room[this.positionY][this.positionX]\n        if (vegetable) {\n          console.log('攻击')\n          vegetable.health -= this.attack\n          if (vegetable.health <= 0) {\n            this.event.emit('destroy', vegetable)\n            this.stageInstance.room[this.positionY][this.positionX] = null\n          }\n        } else {\n          this.sprite.x -= this.speed\n        }\n      }\n      if (this.sprite.x > roomCount[8]) {\n        this.sprite.x -= this.speed\n      }\n      if (this.sprite.x < -40) {\n        window.reload()\n        this.event.emit('restart')\n      }\n    }\n  }\n  initSprite() {\n    this.sprite = new PIXI.AnimatedSprite(this.textureArray)\n    this.sprite.animationSpeed = 0.1\n    this.sprite.play()\n    this.sprite.width = 39\n    this.sprite.height = 46\n  }\n  mountSprite(x, y) {\n    this.positionY = y\n    this.sprite.x = x\n    this.sprite.y = 46 * y\n    this.event.emit('zombieMount', [this, y])\n  }\n\n  work() {\n    this.event.emit('addTicker', this.workFn)\n  }\n  stopWork() {\n    this.event.emit('removeTicker', this.workFn)\n  }\n}\n"]}]}