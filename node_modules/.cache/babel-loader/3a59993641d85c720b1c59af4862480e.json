{"remainingRequest":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/thread-loader/dist/cjs.js!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/babel-loader/lib/index.js!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/zombie/BaseZombie.js","dependencies":[{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/zombie/BaseZombie.js","mtime":1632480372600},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/cache-loader/dist/cjs.js","mtime":1589375722521},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/thread-loader/dist/cjs.js","mtime":1589375722540},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/babel-loader/lib/index.js","mtime":1607483830637},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/eslint-loader/index.js","mtime":1589375721213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvemhhbmdqdW4vRG9jdW1lbnRzL3dvcmtzcGFjZS90ZXN0LXNwYWNlL3Bhb2x1L0dyb292ZVVJL2dyb292ZS16aGl3dS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy96aGFuZ2p1bi9Eb2N1bWVudHMvd29ya3NwYWNlL3Rlc3Qtc3BhY2UvcGFvbHUvR3Jvb3ZlVUkvZ3Jvb3ZlLXpoaXd1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3poYW5nanVuL0RvY3VtZW50cy93b3Jrc3BhY2UvdGVzdC1zcGFjZS9wYW9sdS9Hcm9vdmVVSS9ncm9vdmUtemhpd3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvemhhbmdqdW4vRG9jdW1lbnRzL3dvcmtzcGFjZS90ZXN0LXNwYWNlL3Bhb2x1L0dyb292ZVVJL2dyb292ZS16aGl3dS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJzsKaW1wb3J0IEJvZHkgZnJvbSAnQC9jbGFzcy9Cb2R5JzsKaW1wb3J0IFN0YWdlIGZyb20gJ0AvY2xhc3MvU3RhZ2UnOwp2YXIgcm9vbUNvdW50ID0gWzM5LCAzOSAqIDIsIDM5ICogMywgMzkgKiA0LCAzOSAqIDUsIDM5ICogNiwgMzkgKiA3LCAzOSAqIDgsIDM5ICogOSwgMzkgKiAxMF07CnZhciBwaWMgPSBbcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllMS5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllMi5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllMy5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllNC5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllNS5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllNi5wbmcnKSwgcmVxdWlyZSgnLi4vLi4vYXNzZXRzL1pvbWJpZS9ab21iaWUvWm9tYmllNy5wbmcnKV07CnZhciBsb3N0RmxhZyA9IGZhbHNlOwoKdmFyIEJhc2Vab21iaWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Cb2R5KSB7CiAgX2luaGVyaXRzKEJhc2Vab21iaWUsIF9Cb2R5KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihCYXNlWm9tYmllKTsKCiAgZnVuY3Rpb24gQmFzZVpvbWJpZShwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlWm9tYmllKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKICAgIF90aGlzLnN0YWdlSW5zdGFuY2UgPSBuZXcgU3RhZ2UoKTsKICAgIF90aGlzLm5hbWUgPSAn5YO15bC4XycgKyBfdGhpcy5pZDsKICAgIF90aGlzLnNwZWVkID0gMC4zOwogICAgX3RoaXMuYXR0YWNrID0gMC41OwogICAgX3RoaXMuaGVhbHRoID0gMTAwOwogICAgX3RoaXMudGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9ab21iaWUvWm9tYmllLmdpZicpKTsKICAgIF90aGlzLnBvc2l0aW9uWCA9IDk7CiAgICBfdGhpcy5hdHRhY2tWZWdldGFibGUgPSBudWxsOwogICAgX3RoaXMudGV4dHVyZUFycmF5ID0gcGljLm1hcChmdW5jdGlvbiAoaSkgewogICAgICByZXR1cm4gUElYSS5UZXh0dXJlLmZyb20oaSk7CiAgICB9KTsKCiAgICBfdGhpcy53b3JrRm4gPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5zcHJpdGUueCA8IHJvb21Db3VudFtfdGhpcy5wb3NpdGlvblggLSAxXSkgewogICAgICAgIF90aGlzLnBvc2l0aW9uWC0tOwogICAgICB9CgogICAgICBpZiAoX3RoaXMuc3ByaXRlLnggPD0gcm9vbUNvdW50WzhdKSB7CiAgICAgICAgdmFyIHZlZ2V0YWJsZSA9IF90aGlzLnN0YWdlSW5zdGFuY2Uucm9vbVtfdGhpcy5wb3NpdGlvblldW190aGlzLnBvc2l0aW9uWF07CgogICAgICAgIGlmICh2ZWdldGFibGUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCfmlLvlh7snKTsKICAgICAgICAgIHZlZ2V0YWJsZS5oZWFsdGggLT0gX3RoaXMuYXR0YWNrOwoKICAgICAgICAgIGlmICh2ZWdldGFibGUuaGVhbHRoIDw9IDApIHsKICAgICAgICAgICAgX3RoaXMuZXZlbnQuZW1pdCgnZGVzdHJveScsIHZlZ2V0YWJsZSk7CgogICAgICAgICAgICBfdGhpcy5zdGFnZUluc3RhbmNlLnJvb21bX3RoaXMucG9zaXRpb25ZXVtfdGhpcy5wb3NpdGlvblhdID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuc3ByaXRlLnggLT0gX3RoaXMuc3BlZWQ7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoX3RoaXMuc3ByaXRlLnggPiByb29tQ291bnRbOF0pIHsKICAgICAgICBfdGhpcy5zcHJpdGUueCAtPSBfdGhpcy5zcGVlZDsKICAgICAgfQoKICAgICAgaWYgKF90aGlzLnNwcml0ZS54IDwgLTQwICYmICFsb3N0RmxhZykgewogICAgICAgIHdpbmRvdy5hbGVydCgn5ri45oiP57uT5p2fJyk7CiAgICAgICAgbG9zdEZsYWcgPSB0cnVlOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwoKICAgICAgICBfdGhpcy5ldmVudC5lbWl0KCdyZXN0YXJ0Jyk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEJhc2Vab21iaWUsIFt7CiAgICBrZXk6ICJpbml0U3ByaXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U3ByaXRlKCkgewogICAgICB0aGlzLnNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRoaXMudGV4dHVyZUFycmF5KTsKICAgICAgdGhpcy5zcHJpdGUuYW5pbWF0aW9uU3BlZWQgPSAwLjE7CiAgICAgIHRoaXMuc3ByaXRlLnBsYXkoKTsKICAgICAgdGhpcy5zcHJpdGUud2lkdGggPSAzOTsKICAgICAgdGhpcy5zcHJpdGUuaGVpZ2h0ID0gNDY7CiAgICB9CiAgfSwgewogICAga2V5OiAibW91bnRTcHJpdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50U3ByaXRlKHgsIHkpIHsKICAgICAgdGhpcy5wb3NpdGlvblkgPSB5OwogICAgICB0aGlzLnNwcml0ZS54ID0geDsKICAgICAgdGhpcy5zcHJpdGUueSA9IDQ2ICogeTsKICAgICAgdGhpcy5ldmVudC5lbWl0KCd6b21iaWVNb3VudCcsIFt0aGlzLCB5XSk7CiAgICB9CiAgfSwgewogICAga2V5OiAid29yayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd29yaygpIHsKICAgICAgdGhpcy5ldmVudC5lbWl0KCdhZGRUaWNrZXInLCB0aGlzLndvcmtGbik7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RvcFdvcmsiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3BXb3JrKCkgewogICAgICB0aGlzLmV2ZW50LmVtaXQoJ3JlbW92ZVRpY2tlcicsIHRoaXMud29ya0ZuKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBCYXNlWm9tYmllOwp9KEJvZHkpOwoKZXhwb3J0IHsgQmFzZVpvbWJpZSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/class/zombie/BaseZombie.js"],"names":["PIXI","Body","Stage","roomCount","pic","require","lostFlag","BaseZombie","props","stageInstance","name","id","speed","attack","health","texture","Texture","from","positionX","attackVegetable","textureArray","map","i","workFn","sprite","x","vegetable","room","positionY","console","log","event","emit","window","alert","location","reload","AnimatedSprite","animationSpeed","play","width","height","y"],"mappings":"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","sourcesContent":["import * as PIXI from 'pixi.js'\nimport Body from '@/class/Body'\nimport Stage from '@/class/Stage'\nconst roomCount = [39, 39 * 2, 39 * 3, 39 * 4, 39 * 5, 39 * 6, 39 * 7, 39 * 8, 39 * 9, 39 * 10]\nconst pic = [\n  require('../../assets/Zombie/Zombie/Zombie1.png'),\n  require('../../assets/Zombie/Zombie/Zombie2.png'),\n  require('../../assets/Zombie/Zombie/Zombie3.png'),\n  require('../../assets/Zombie/Zombie/Zombie4.png'),\n  require('../../assets/Zombie/Zombie/Zombie5.png'),\n  require('../../assets/Zombie/Zombie/Zombie6.png'),\n  require('../../assets/Zombie/Zombie/Zombie7.png')\n]\nlet lostFlag = false\nexport default class BaseZombie extends Body {\n  constructor(props) {\n    super(props)\n    this.stageInstance = new Stage()\n    this.name = '僵尸_' + this.id\n    this.speed = 0.3\n    this.attack = 0.5\n    this.health = 100\n    this.texture = PIXI.Texture.from(require('../../assets/Zombie/Zombie.gif'))\n    this.positionX = 9\n    this.attackVegetable = null\n    this.textureArray = pic.map(i => {\n      return PIXI.Texture.from(i)\n    })\n    this.workFn = () => {\n      if (this.sprite.x < roomCount[this.positionX - 1]) {\n        this.positionX--\n      }\n      if (this.sprite.x <= roomCount[8]) {\n        const vegetable = this.stageInstance.room[this.positionY][this.positionX]\n        if (vegetable) {\n          console.log('攻击')\n          vegetable.health -= this.attack\n          if (vegetable.health <= 0) {\n            this.event.emit('destroy', vegetable)\n            this.stageInstance.room[this.positionY][this.positionX] = null\n          }\n        } else {\n          this.sprite.x -= this.speed\n        }\n      }\n      if (this.sprite.x > roomCount[8]) {\n        this.sprite.x -= this.speed\n      }\n      if (this.sprite.x < -40 && !lostFlag) {\n        window.alert('游戏结束')\n        lostFlag = true\n        location.reload()\n        this.event.emit('restart')\n      }\n    }\n  }\n  initSprite() {\n    this.sprite = new PIXI.AnimatedSprite(this.textureArray)\n    this.sprite.animationSpeed = 0.1\n    this.sprite.play()\n    this.sprite.width = 39\n    this.sprite.height = 46\n  }\n  mountSprite(x, y) {\n    this.positionY = y\n    this.sprite.x = x\n    this.sprite.y = 46 * y\n    this.event.emit('zombieMount', [this, y])\n  }\n\n  work() {\n    this.event.emit('addTicker', this.workFn)\n  }\n  stopWork() {\n    this.event.emit('removeTicker', this.workFn)\n  }\n}\n"]}]}