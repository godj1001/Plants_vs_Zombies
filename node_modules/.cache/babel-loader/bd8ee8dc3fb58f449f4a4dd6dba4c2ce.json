{"remainingRequest":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/thread-loader/dist/cjs.js!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/babel-loader/lib/index.js!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/components/game.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/components/game.vue","mtime":1632471204718},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/cache-loader/dist/cjs.js","mtime":1589375722521},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/thread-loader/dist/cjs.js","mtime":1589375722540},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/babel-loader/lib/index.js","mtime":1607483830637},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/cache-loader/dist/cjs.js","mtime":1589375722521},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/vue-loader/lib/index.js","mtime":1628175232390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgR2FtZSBmcm9tICdAL2NsYXNzL0dhbWUnOyAvLyBpbXBvcnQgQmFzZSBmcm9tICdAL2NsYXNzL3ZlZ2V0YWJsZS9iYXNlJwoKaW1wb3J0IFN1bmZsb3dlciBmcm9tICdAL2NsYXNzL3ZlZ2V0YWJsZS9zdW5mbG93ZXInOwppbXBvcnQgUGVhc2hvb3RlciBmcm9tICdAL2NsYXNzL3ZlZ2V0YWJsZS9QZWFzaG9vdGVyJzsKaW1wb3J0IFBvdGF0byBmcm9tICdAL2NsYXNzL3ZlZ2V0YWJsZS9Qb3RhdG8nOwoKdmFyIGdldEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0SW5zdGFuY2UoRm4sIHBvc2l0aW9uKSB7CiAgY29uc29sZS5sb2coJ2luc3RhbmNlJyk7CiAgcmV0dXJuIG5ldyBGbihwb3NpdGlvbik7Cn07Cgp2YXIgdmVnZXRhYmxlTGlzdCA9IFt7CiAgbmFtZTogJ+WQkeaXpeiRtScsCiAgY29udGVudDogU3VuZmxvd2VyLAogIGNvc3Q6IFN1bmZsb3dlci5jb3N0Cn0sIHsKICBuYW1lOiAn6LGM6LGG5bCE5omLJywKICBjb250ZW50OiBQZWFzaG9vdGVyLAogIGNvc3Q6IFBlYXNob290ZXIuY29zdAp9LCB7CiAgbmFtZTogJ+Wcn+ixhicsCiAgY29udGVudDogUG90YXRvLAogIGNvc3Q6IDEwMAp9IC8vIHsgbmFtZTogJ+aoseahg+eCuOW8uScsIGNvbnRlbnQ6IFN1bmZsb3dlciwgY29zdDogMTUwIH0sCi8vIHsgbmFtZTogJ+WAreeTnOaLs+aJiycsIGNvbnRlbnQ6IFN1bmZsb3dlciwgY29zdDogNTAgfQpdOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0dhbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIGNlbGw6IGZ1bmN0aW9uIGNlbGwoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4vY2VsbC52dWUnKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2ZWdldGFibGVMaXN0OiB2ZWdldGFibGVMaXN0LAogICAgICB2ZWdldGFibGVTZWxlY3Q6ICcnLAogICAgICBnYW1lOiBuZXcgR2FtZSgpLAogICAgICBzdGFydDogZmFsc2UsCiAgICAgIHRvYXN0OiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB2YXVsdFZhbHVlOiBmdW5jdGlvbiB2YXVsdFZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY291bnQ7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lJyk7CgogICAgICBfdGhpcy5nYW1lLnNldFN0YWdlKHN0YWdlKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY29zdFZhbHVlOiBmdW5jdGlvbiBjb3N0VmFsdWUodmFsdWUpIHsKICAgICAgdGhpcy52YXVsdFZhbHVlIC09IHZhbHVlOwogICAgfSwKICAgIGNsaWNrUm9vbTogZnVuY3Rpb24gY2xpY2tSb29tKHgsIHkpIHsKICAgICAgY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUnKSk7CgogICAgICBpZiAodGhpcy5nYW1lLnN0YWdlLnJvb21beF1beV0gIT09IG51bGwgfHwgdGhpcy52ZWdldGFibGVTZWxlY3QgPT09ICcnKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgdiA9IGdldEluc3RhbmNlKHRoaXMudmVnZXRhYmxlU2VsZWN0LmNvbnRlbnQsIHsKICAgICAgICB4OiB4LAogICAgICAgIHk6IHkKICAgICAgfSk7CiAgICAgIHRoaXMuZ2FtZS5zZXRWZWdldGFibGUoeCwgeSwgdik7CiAgICAgIHRoaXMudmVnZXRhYmxlU2VsZWN0ID0gJyc7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIHRoaXMuc3RhcnRHYW1lKCk7CiAgICB9LAogICAgc3RhcnRHYW1lOiBmdW5jdGlvbiBzdGFydEdhbWUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnN0YXJ0KSB7CiAgICAgICAgdGhpcy5nYW1lLnN0YXJ0R2FtZSgpOwogICAgICAgIHRoaXMuc3RhcnQgPSB0cnVlOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnRvYXN0ID0gdHJ1ZTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIudG9hc3QgPSBmYWxzZTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0sIDMwMDApOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QodikgewogICAgICBpZiAodGhpcy52YXVsdFZhbHVlIDwgdi5jb3N0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnZlZ2V0YWJsZVNlbGVjdCA9IHY7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["game.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"game\" id=\"game\">\n    <div class=\"toast\" v-show=\"toast\">\n      <img src=\"../assets/toast.gif\" alt=\"\">\n    </div>\n    <div class=\"vegetable-list\">\n      <div class=\"vegetable-list__item\" :overcost=\"vegetable.cost>vaultValue\" :active=\"vegetableSelect === vegetable\" v-for=\"vegetable in vegetableList\" :key=\"vegetable.name\" @mousedown=\"select(vegetable)\">\n        {{ vegetable.name }}\n      </div>\n    </div>\n    <div class=\"vault\">\n      {{vaultValue}}\n    </div>\n    <div class=\"table\" id=\"stage\">\n      <div class=\"row \" v-for=\"(row,x) in game.stage.room\" :key=\"x\">\n        <div class=\"cell\" v-for=\"(cell,y) in row\" :key=\"y\" @click=\"clickRoom(x,y)\">\n          <cell :content=\"cell\">\n          </cell>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Game from '@/class/Game'\n// import Base from '@/class/vegetable/base'\nimport Sunflower from '@/class/vegetable/sunflower'\nimport Peashooter from '@/class/vegetable/Peashooter'\nimport Potato from '@/class/vegetable/Potato'\nconst getInstance = (Fn, position) => {\n  console.log('instance')\n  return new Fn(position)\n}\nconst vegetableList = [\n  { name: '向日葵', content: Sunflower, cost: Sunflower.cost },\n  { name: '豌豆射手', content: Peashooter, cost: Peashooter.cost },\n  { name: '土豆', content: Potato, cost: 100 }\n  // { name: '樱桃炸弹', content: Sunflower, cost: 150 },\n  // { name: '倭瓜拳手', content: Sunflower, cost: 50 }\n]\nexport default {\n  name: 'Game',\n  components: {\n    cell: () => import('./cell.vue')\n  },\n  data() {\n    return {\n      vegetableList,\n      vegetableSelect: '',\n      game: new Game(),\n      start: false,\n      toast: false\n    }\n  },\n  computed: {\n    vaultValue: function () {\n      return this.$store.state.count\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const stage = document.getElementById('game')\n      this.game.setStage(stage)\n    })\n  },\n  methods: {\n    costValue (value) {\n      this.vaultValue -= value\n    },\n    clickRoom(x, y) {\n      console.log(document.getElementById('game'))\n      if (this.game.stage.room[x][y] !== null || this.vegetableSelect === '') {\n        return\n      }\n      let v = getInstance(this.vegetableSelect.content, { x, y })\n      this.game.setVegetable(x, y, v)\n      this.vegetableSelect = ''\n      this.$forceUpdate()\n      this.startGame()\n    },\n    startGame() {\n      if (!this.start) {\n        this.game.startGame()\n        this.start = true\n        setTimeout(() => {\n          this.toast = true\n          setTimeout(() => {\n            this.toast = false\n          }, 1000)\n        }, 3000)\n      }\n    },\n    select(v) {\n      if (this.vaultValue < v.cost) {\n        return\n      }\n      this.vegetableSelect = v\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.game{\n  background: url(\"../assets/bg.jpg\") no-repeat;\n  background-size: 100%;\n  box-sizing: border-box;\n  width: 679px;\n  height: 364px;\n  position: relative;\n  user-select: none;\n  overflow: hidden;\n  .toast{\n    z-index: 10;\n    position: absolute;\n    width: 200px;\n    top:50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n  }\n  .vault{\n    position: absolute;\n    min-width: 50px;\n    text-align: center;\n    border: 2px solid #895c24;\n    left:170px;\n    top:50px;\n    padding: 4px 12px ;\n    font-size: 16px;\n    color: white;\n    background: #cf9236;\n    border-radius: 5px;\n  }\n  .vegetable-list{\n    width: 360px;\n    background: #cf9236;\n    position: absolute;\n    left: 250px;\n    padding:10px 4px ;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    border: 2px solid #895c24;\n    border-radius: 5px;\n    .vegetable-list__item{\n      background: white;\n      padding: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 60px;\n      width: 40px;\n      margin-left: 10px;\n      border-radius: 5px;\n      border: 2px solid rgba(0, 0, 0, 0);\n\n      &:first-child{\n        margin-left: 0;\n      }\n      &[active=true]{\n        border: 2px solid red;\n      }\n      &[overcost=true]{\n        background: #7f7f7f;\n        cursor: not-allowed;\n      }\n    }\n  }\n  .table{\n    position: absolute;\n    left: 255px;\n    top:96px;\n    z-index: 2;\n  }\n}\n\n.row{\n  height: 46px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n}\n.cell{\n  &:hover{\n    background: rgba(245, 245, 220, 0.16);\n  }\n  display: inline-block;\n  height: 100%;\n  width: 39px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}