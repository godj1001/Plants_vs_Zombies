{"remainingRequest":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/components/game.vue?vue&type=style&index=0&id=68c94b02&scoped=true&lang=scss&","dependencies":[{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/components/game.vue","mtime":1632471204718},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/css-loader/dist/cjs.js","mtime":1594795352291},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1628175232390},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/postcss-loader/src/index.js","mtime":1589375723448},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/sass-loader/dist/cjs.js","mtime":1590570618920},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/cache-loader/dist/cjs.js","mtime":1589375722521},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/vue-loader/lib/index.js","mtime":1628175232390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZ2FtZXsKICBiYWNrZ3JvdW5kOiB1cmwoIi4uL2Fzc2V0cy9iZy5qcGciKSBuby1yZXBlYXQ7CiAgYmFja2dyb3VuZC1zaXplOiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgd2lkdGg6IDY3OXB4OwogIGhlaWdodDogMzY0cHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHVzZXItc2VsZWN0OiBub25lOwogIG92ZXJmbG93OiBoaWRkZW47CiAgLnRvYXN0ewogICAgei1pbmRleDogMTA7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB3aWR0aDogMjAwcHg7CiAgICB0b3A6NTAlOwogICAgbGVmdDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTsKICB9CiAgLnZhdWx0ewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWluLXdpZHRoOiA1MHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYm9yZGVyOiAycHggc29saWQgIzg5NWMyNDsKICAgIGxlZnQ6MTcwcHg7CiAgICB0b3A6NTBweDsKICAgIHBhZGRpbmc6IDRweCAxMnB4IDsKICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJhY2tncm91bmQ6ICNjZjkyMzY7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgfQogIC52ZWdldGFibGUtbGlzdHsKICAgIHdpZHRoOiAzNjBweDsKICAgIGJhY2tncm91bmQ6ICNjZjkyMzY7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAyNTBweDsKICAgIHBhZGRpbmc6MTBweCA0cHggOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7CiAgICBib3JkZXI6IDJweCBzb2xpZCAjODk1YzI0OwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgLnZlZ2V0YWJsZS1saXN0X19pdGVtewogICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgcGFkZGluZzogNHB4OwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgaGVpZ2h0OiA2MHB4OwogICAgICB3aWR0aDogNDBweDsKICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgYm9yZGVyOiAycHggc29saWQgcmdiYSgwLCAwLCAwLCAwKTsKCiAgICAgICY6Zmlyc3QtY2hpbGR7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7CiAgICAgIH0KICAgICAgJlthY3RpdmU9dHJ1ZV17CiAgICAgICAgYm9yZGVyOiAycHggc29saWQgcmVkOwogICAgICB9CiAgICAgICZbb3ZlcmNvc3Q9dHJ1ZV17CiAgICAgICAgYmFja2dyb3VuZDogIzdmN2Y3ZjsKICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICB9CiAgICB9CiAgfQogIC50YWJsZXsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDI1NXB4OwogICAgdG9wOjk2cHg7CiAgICB6LWluZGV4OiAyOwogIH0KfQoKLnJvd3sKICBoZWlnaHQ6IDQ2cHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7Cn0KLmNlbGx7CiAgJjpob3ZlcnsKICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LCAyNDUsIDIyMCwgMC4xNik7CiAgfQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDM5cHg7Cn0K"},{"version":3,"sources":["game.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"game.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"game\" id=\"game\">\n    <div class=\"toast\" v-show=\"toast\">\n      <img src=\"../assets/toast.gif\" alt=\"\">\n    </div>\n    <div class=\"vegetable-list\">\n      <div class=\"vegetable-list__item\" :overcost=\"vegetable.cost>vaultValue\" :active=\"vegetableSelect === vegetable\" v-for=\"vegetable in vegetableList\" :key=\"vegetable.name\" @mousedown=\"select(vegetable)\">\n        {{ vegetable.name }}\n      </div>\n    </div>\n    <div class=\"vault\">\n      {{vaultValue}}\n    </div>\n    <div class=\"table\" id=\"stage\">\n      <div class=\"row \" v-for=\"(row,x) in game.stage.room\" :key=\"x\">\n        <div class=\"cell\" v-for=\"(cell,y) in row\" :key=\"y\" @click=\"clickRoom(x,y)\">\n          <cell :content=\"cell\">\n          </cell>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Game from '@/class/Game'\n// import Base from '@/class/vegetable/base'\nimport Sunflower from '@/class/vegetable/sunflower'\nimport Peashooter from '@/class/vegetable/Peashooter'\nimport Potato from '@/class/vegetable/Potato'\nconst getInstance = (Fn, position) => {\n  console.log('instance')\n  return new Fn(position)\n}\nconst vegetableList = [\n  { name: '向日葵', content: Sunflower, cost: Sunflower.cost },\n  { name: '豌豆射手', content: Peashooter, cost: Peashooter.cost },\n  { name: '土豆', content: Potato, cost: 100 }\n  // { name: '樱桃炸弹', content: Sunflower, cost: 150 },\n  // { name: '倭瓜拳手', content: Sunflower, cost: 50 }\n]\nexport default {\n  name: 'Game',\n  components: {\n    cell: () => import('./cell.vue')\n  },\n  data() {\n    return {\n      vegetableList,\n      vegetableSelect: '',\n      game: new Game(),\n      start: false,\n      toast: false\n    }\n  },\n  computed: {\n    vaultValue: function () {\n      return this.$store.state.count\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const stage = document.getElementById('game')\n      this.game.setStage(stage)\n    })\n  },\n  methods: {\n    costValue (value) {\n      this.vaultValue -= value\n    },\n    clickRoom(x, y) {\n      console.log(document.getElementById('game'))\n      if (this.game.stage.room[x][y] !== null || this.vegetableSelect === '') {\n        return\n      }\n      let v = getInstance(this.vegetableSelect.content, { x, y })\n      this.game.setVegetable(x, y, v)\n      this.vegetableSelect = ''\n      this.$forceUpdate()\n      this.startGame()\n    },\n    startGame() {\n      if (!this.start) {\n        this.game.startGame()\n        this.start = true\n        setTimeout(() => {\n          this.toast = true\n          setTimeout(() => {\n            this.toast = false\n          }, 1000)\n        }, 3000)\n      }\n    },\n    select(v) {\n      if (this.vaultValue < v.cost) {\n        return\n      }\n      this.vegetableSelect = v\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.game{\n  background: url(\"../assets/bg.jpg\") no-repeat;\n  background-size: 100%;\n  box-sizing: border-box;\n  width: 679px;\n  height: 364px;\n  position: relative;\n  user-select: none;\n  overflow: hidden;\n  .toast{\n    z-index: 10;\n    position: absolute;\n    width: 200px;\n    top:50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n  }\n  .vault{\n    position: absolute;\n    min-width: 50px;\n    text-align: center;\n    border: 2px solid #895c24;\n    left:170px;\n    top:50px;\n    padding: 4px 12px ;\n    font-size: 16px;\n    color: white;\n    background: #cf9236;\n    border-radius: 5px;\n  }\n  .vegetable-list{\n    width: 360px;\n    background: #cf9236;\n    position: absolute;\n    left: 250px;\n    padding:10px 4px ;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    border: 2px solid #895c24;\n    border-radius: 5px;\n    .vegetable-list__item{\n      background: white;\n      padding: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 60px;\n      width: 40px;\n      margin-left: 10px;\n      border-radius: 5px;\n      border: 2px solid rgba(0, 0, 0, 0);\n\n      &:first-child{\n        margin-left: 0;\n      }\n      &[active=true]{\n        border: 2px solid red;\n      }\n      &[overcost=true]{\n        background: #7f7f7f;\n        cursor: not-allowed;\n      }\n    }\n  }\n  .table{\n    position: absolute;\n    left: 255px;\n    top:96px;\n    z-index: 2;\n  }\n}\n\n.row{\n  height: 46px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n}\n.cell{\n  &:hover{\n    background: rgba(245, 245, 220, 0.16);\n  }\n  display: inline-block;\n  height: 100%;\n  width: 39px;\n}\n</style>\n"]}]}