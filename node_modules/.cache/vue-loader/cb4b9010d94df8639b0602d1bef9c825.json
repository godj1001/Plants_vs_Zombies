{"remainingRequest":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/components/game.vue?vue&type=style&index=0&id=68c94b02&scoped=true&lang=scss&","dependencies":[{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/src/components/game.vue","mtime":1632307141713},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/css-loader/dist/cjs.js","mtime":1594795352291},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1628175232390},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/postcss-loader/src/index.js","mtime":1589375723448},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/sass-loader/dist/cjs.js","mtime":1590570618920},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/cache-loader/dist/cjs.js","mtime":1589375722521},{"path":"/Users/zhangjun/Documents/workspace/test-space/paolu/GrooveUI/groove-zhiwu/node_modules/vue-loader/lib/index.js","mtime":1628175232390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZ2FtZXsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMTAwJTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICAudG9hc3R7CiAgICB6LWluZGV4OiAxMDsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHdpZHRoOiAyMDBweDsKICAgIHRvcDo1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpOwogIH0KICAudmF1bHR7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBtaW4td2lkdGg6IDUwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3JkZXI6IDJweCBzb2xpZCAjODk1YzI0OwogICAgbGVmdDoxNzBweDsKICAgIHRvcDo1MHB4OwogICAgcGFkZGluZzogNHB4IDEycHggOwogICAgZm9udC1zaXplOiAxNnB4OwogICAgY29sb3I6IHdoaXRlOwogICAgYmFja2dyb3VuZDogI2NmOTIzNjsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICB9CiAgLnZlZ2V0YWJsZS1saXN0ewogICAgd2lkdGg6IDM2MHB4OwogICAgYmFja2dyb3VuZDogI2NmOTIzNjsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDI1MHB4OwogICAgcGFkZGluZzoxMHB4IDRweCA7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsKICAgIGJvcmRlcjogMnB4IHNvbGlkICM4OTVjMjQ7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAudmVnZXRhYmxlLWxpc3RfX2l0ZW17CiAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICBwYWRkaW5nOiA0cHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgIHdpZHRoOiA0MHB4OwogICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDApOwoKICAgICAgJjpmaXJzdC1jaGlsZHsKICAgICAgICBtYXJnaW4tbGVmdDogMDsKICAgICAgfQogICAgICAmW2FjdGl2ZT10cnVlXXsKICAgICAgICBib3JkZXI6IDJweCBzb2xpZCByZWQ7CiAgICAgIH0KICAgICAgJltvdmVyY29zdD10cnVlXXsKICAgICAgICBiYWNrZ3JvdW5kOiAjN2Y3ZjdmOwogICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7CiAgICAgIH0KICAgIH0KICB9CiAgLnRhYmxlewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogMjU1cHg7CiAgICB0b3A6OTZweDsKICAgIHotaW5kZXg6IDI7CiAgfQp9Cgoucm93ewogIGhlaWdodDogNDZweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsKfQouY2VsbHsKICAmOmhvdmVyewogICAgYmFja2dyb3VuZDogcmdiYSgyNDUsIDI0NSwgMjIwLCAwLjE2KTsKICB9CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMzlweDsKfQo="},{"version":3,"sources":["game.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"game.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"game\" id=\"game\">\n    <div class=\"toast\" v-show=\"toast\">\n      <img src=\"../assets/toast.gif\" alt=\"\">\n    </div>\n    <div class=\"vegetable-list\">\n      <div class=\"vegetable-list__item\" :overcost=\"vegetable.cost>vaultValue\" :active=\"vegetableSelect === vegetable\" v-for=\"vegetable in vegetableList\" :key=\"vegetable.name\" @mousedown=\"select(vegetable)\">\n        {{ vegetable.name }}\n      </div>\n    </div>\n    <div class=\"vault\">\n      {{vaultValue}}\n    </div>\n    <div class=\"table\" id=\"stage\">\n      <div class=\"row \" v-for=\"(row,x) in game.stage.room\" :key=\"x\">\n        <div class=\"cell\" v-for=\"(cell,y) in row\" :key=\"y\" @click=\"clickRoom(x,y)\">\n          <cell :content=\"cell\">\n          </cell>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Game from '@/class/Game'\n// import Base from '@/class/vegetable/base'\nimport Sunflower from '@/class/vegetable/sunflower'\nimport Peashooter from '@/class/vegetable/Peashooter'\nimport Potato from '@/class/vegetable/Potato'\nconst getInstance = (Fn, position) => {\n  console.log('instance')\n  return new Fn(position)\n}\nconst vegetableList = [\n  { name: '向日葵', content: Sunflower, cost: Sunflower.cost },\n  { name: '豌豆射手', content: Peashooter, cost: Peashooter.cost },\n  { name: '土豆', content: Potato, cost: 100 }\n  // { name: '樱桃炸弹', content: Sunflower, cost: 150 },\n  // { name: '倭瓜拳手', content: Sunflower, cost: 50 }\n]\nexport default {\n  name: 'Game',\n  components: {\n    cell: () => import('./cell.vue')\n  },\n  data() {\n    return {\n      vegetableList,\n      vegetableSelect: '',\n      game: new Game(),\n      start: false,\n      toast: false\n    }\n  },\n  computed: {\n    vaultValue: function () {\n      return this.$store.state.count\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const stage = document.getElementById('game')\n      this.game.setStage(stage)\n    })\n  },\n  methods: {\n    costValue (value) {\n      this.vaultValue -= value\n    },\n    clickRoom(x, y) {\n      console.log(document.getElementById('game'))\n      if (this.game.stage.room[x][y] !== null || this.vegetableSelect === '') {\n        return\n      }\n      let v = getInstance(this.vegetableSelect.content, { x, y })\n      this.game.setVegetable(x, y, v)\n      this.vegetableSelect = ''\n      this.$forceUpdate()\n      this.startGame()\n    },\n    startGame() {\n      if (!this.start) {\n        this.game.startGame()\n        this.start = true\n        setTimeout(() => {\n          this.toast = true\n          setTimeout(() => {\n            this.toast = false\n          }, 1000)\n        }, 3000)\n      }\n    },\n    select(v) {\n      if (this.vaultValue < v.cost) {\n        return\n      }\n      this.vegetableSelect = v\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.game{\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  position: relative;\n  user-select: none;\n  overflow: hidden;\n  .toast{\n    z-index: 10;\n    position: absolute;\n    width: 200px;\n    top:50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n  }\n  .vault{\n    position: absolute;\n    min-width: 50px;\n    text-align: center;\n    border: 2px solid #895c24;\n    left:170px;\n    top:50px;\n    padding: 4px 12px ;\n    font-size: 16px;\n    color: white;\n    background: #cf9236;\n    border-radius: 5px;\n  }\n  .vegetable-list{\n    width: 360px;\n    background: #cf9236;\n    position: absolute;\n    left: 250px;\n    padding:10px 4px ;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    border: 2px solid #895c24;\n    border-radius: 5px;\n    .vegetable-list__item{\n      background: white;\n      padding: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 60px;\n      width: 40px;\n      margin-left: 10px;\n      border-radius: 5px;\n      border: 2px solid rgba(0, 0, 0, 0);\n\n      &:first-child{\n        margin-left: 0;\n      }\n      &[active=true]{\n        border: 2px solid red;\n      }\n      &[overcost=true]{\n        background: #7f7f7f;\n        cursor: not-allowed;\n      }\n    }\n  }\n  .table{\n    position: absolute;\n    left: 255px;\n    top:96px;\n    z-index: 2;\n  }\n}\n\n.row{\n  height: 46px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n}\n.cell{\n  &:hover{\n    background: rgba(245, 245, 220, 0.16);\n  }\n  display: inline-block;\n  height: 100%;\n  width: 39px;\n}\n</style>\n"]}]}